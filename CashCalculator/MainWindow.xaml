<Window x:Class="CashCalculator.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:views="clr-namespace:CashCalculator.Views"
        Title="Cash Calculator beta 0.2.1"
        Height="640" Width="420"
        ResizeMode="CanMinimize"
        WindowStartupLocation="CenterScreen"
        Background="{DynamicResource WindowBackgroundBrush}"
        Foreground="{DynamicResource WindowForegroundBrush}">

  <Grid>
    <TabControl>

      <!-- Calculator Tab -->
      <TabItem Header="Calculator">
        <Grid Margin="10">
          <Grid.RowDefinitions>
            <RowDefinition/>
            <RowDefinition Height="Auto"/>
          </Grid.RowDefinitions>

          <DockPanel Grid.Row="0" LastChildFill="False">

            <!-- 1) Список номиналов -->
            <views:DenominationsView
                x:Name="DenominationsView"
                DockPanel.Dock="Top"
                Margin="0,0,0,10"
                QuantityCellClicked="DenominationsView_QuantityCellClicked"/>

            <!-- 2) Таблица итогов -->
            <views:SummaryView
                x:Name="SummaryView"
                DockPanel.Dock="Top"
                Margin="0,0,0,10"
                ExpectedCellClicked="SummaryView_ExpectedCellClicked"/>

            <!-- 3) Панель кнопок -->
            <views:ToolbarView
                x:Name="ToolbarView"
                DockPanel.Dock="Top"
                Margin="0,0,0,10"/>

          </DockPanel>

          <TextBlock Grid.Row="1"
                     Text="© 2025 Kremenchugskaya Team"
                     FontSize="10"
                     Foreground="{StaticResource DataGridBorderBrush}"
                     HorizontalAlignment="Center"
                     Margin="0,5"/>
        </Grid>
      </TabItem>

      <!-- Settings Tab -->
      <TabItem Header="Settings">
        <Grid>
          <Grid.RowDefinitions>
            <RowDefinition/>
            <RowDefinition Height="Auto"/>
          </Grid.RowDefinitions>
          <ScrollViewer Grid.Row="0">
            <StackPanel Margin="10">

              <TextBlock FontWeight="Bold"
                         FontSize="14"
                         Margin="0 0 0 10"
                         Text="Show Denominations"/>
              <ItemsControl ItemsSource="{Binding DenominationFilters}">
                <ItemsControl.ItemTemplate>
                  <DataTemplate>
                    <CheckBox Content="{Binding Value, StringFormat='{}{0}₽'}"
                              IsChecked="{Binding IsVisible}"
                              Margin="0 0 0 5"/>
                  </DataTemplate>
                </ItemsControl.ItemTemplate>
              </ItemsControl>

              <Separator Margin="0 15 0 15"/>

              <TextBlock FontWeight="Bold"
                         FontSize="14"
                         Margin="0 0 0 10"
                         Text="Instructions"/>
              <StackPanel>
                <TextBlock Text="📋 — Copy report"                    Margin="0 0 0 4"/>
                <TextBlock Text="🧹 — Clear counts"                  Margin="0 0 0 4"/>
                <TextBlock Text="🔢 — Toggle touch mode"             Margin="0 0 0 4"/>
                <TextBlock Text="⌫ — Backspace last digit"           Margin="0 0 0 4"/>
                <TextBlock Text="✓ or Enter — Confirm input"        Margin="0 0 0 4"/>
              </StackPanel>
            </StackPanel>
          </ScrollViewer>

          <TextBlock Grid.Row="1"
                     Text="© 2025 Kremenchugskaya Team"
                     FontSize="10"
                     Foreground="{StaticResource DataGridBorderBrush}"
                     HorizontalAlignment="Center"
                     Margin="0,5"/>
        </Grid>
      </TabItem>

    </TabControl>

    <!-- Numpad overlay -->
    <views:NumpadView x:Name="NumpadView"/>

  </Grid>
</Window>