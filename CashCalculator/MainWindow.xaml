<Window x:Class="CashCalculator.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Cash Calculator"
        Height="550" Width="400"
        WindowStartupLocation="CenterScreen"
        Background="{DynamicResource WindowBackgroundBrush}"
        Foreground="{DynamicResource WindowForegroundBrush}">

  <Window.Resources>
    <!-- Стили для DataGrid -->
    <Style TargetType="DataGrid" x:Key="NiceGrid">
      <Setter Property="AutoGenerateColumns" Value="False"/>
      <Setter Property="HeadersVisibility" Value="Column"/>
      <Setter Property="GridLinesVisibility" Value="None"/>
      <Setter Property="RowBackground" Value="{DynamicResource DataGridRowBackgroundBrush}"/>
      <Setter Property="AlternatingRowBackground" Value="{DynamicResource DataGridAlternationRowBackgroundBrush}"/>
      <Setter Property="RowHeight" Value="28"/>
      <Setter Property="FontSize" Value="14"/>
      <Setter Property="BorderBrush" Value="{DynamicResource DataGridBorderBrush}"/>
      <Setter Property="BorderThickness" Value="1"/>
      <Setter Property="SelectionMode" Value="Single"/>
      <Setter Property="SelectionUnit" Value="FullRow"/>
    </Style>
    <Style TargetType="DataGridColumnHeader" x:Key="NiceHeader">
      <Setter Property="Background" Value="{DynamicResource DataGridBorderBrush}"/>
      <Setter Property="Foreground" Value="{DynamicResource WindowForegroundBrush}"/>
      <Setter Property="FontWeight" Value="Bold"/>
      <Setter Property="HorizontalContentAlignment" Value="Center"/>
      <Setter Property="FontSize" Value="14"/>
      <Setter Property="Padding" Value="5"/>
      <Setter Property="BorderThickness" Value="0,0,0,1"/>
      <Setter Property="BorderBrush" Value="{DynamicResource DataGridBorderBrush}"/>
    </Style>
    <Style TargetType="DataGridCell" x:Key="NiceCell">
      <Setter Property="Padding" Value="5"/>
      <Setter Property="BorderThickness" Value="0"/>
      <Setter Property="HorizontalContentAlignment" Value="Center"/>
      <Setter Property="FontSize" Value="14"/>
    </Style>
  </Window.Resources>

  <DockPanel Margin="10" LastChildFill="False">

    <!-- 1) Таблица номиналов -->
    <Border x:Name="DenomBorder"
            CornerRadius="8"
            Background="{DynamicResource WindowBackgroundBrush}"
            BorderBrush="{DynamicResource DataGridBorderBrush}"
            BorderThickness="1"
            Margin="0,0,0,10"
            DockPanel.Dock="Top">
      <DataGrid x:Name="DenomsGrid"
                Style="{StaticResource NiceGrid}"
                ColumnHeaderStyle="{StaticResource NiceHeader}"
                CellStyle="{StaticResource NiceCell}"
                Background="Transparent"
                CanUserAddRows="False"
                CellEditEnding="DenomsGrid_CellEditEnding"
                PreviewTextInput="DataGrid_PreviewTextInput">
        <DataGrid.Columns>
          <DataGridTextColumn Header="Номинал, ₽"
                              Binding="{Binding Value}"
                              Width="*"
                              IsReadOnly="True"/>
          <DataGridTextColumn Header="Кол-во"
                              Binding="{Binding Amount,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"
                              Width="*"/>
        </DataGrid.Columns>
      </DataGrid>
    </Border>

    <!-- 2) Таблица итогов -->
    <Border x:Name="SummaryBorder"
            CornerRadius="8"
            Background="{DynamicResource WindowBackgroundBrush}"
            BorderBrush="{DynamicResource DataGridBorderBrush}"
            BorderThickness="1"
            Margin="0,0,0,10"
            DockPanel.Dock="Top">
      <DataGrid x:Name="SummaryGrid"
                Style="{StaticResource NiceGrid}"
                ColumnHeaderStyle="{StaticResource NiceHeader}"
                CellStyle="{StaticResource NiceCell}"
                Background="Transparent"
                CanUserAddRows="False"
                HeadersVisibility="Column"
                AutoGenerateColumns="False"
                CellEditEnding="SummaryGrid_CellEditEnding"
                PreviewTextInput="DataGrid_PreviewTextInput">
        <DataGrid.Columns>
          <DataGridTextColumn Header="Итого, ₽"
                              Binding="{Binding Description}"
                              Width="0.8*"
                              IsReadOnly="True"/>
          <DataGridTextColumn Header=" "
                              Binding="{Binding Value,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"
                              Width="*"/>
        </DataGrid.Columns>
      </DataGrid>
    </Border>

    <!-- 3) Закруглённая кнопка копирования -->
    <Border CornerRadius="8"
            Background="{DynamicResource WindowBackgroundBrush}"
            BorderBrush="{DynamicResource DataGridBorderBrush}"
            BorderThickness="1"
            Padding="2"
            DockPanel.Dock="Top"
            HorizontalAlignment="Center">
      <Button Content="Copy"
              Width="150"
              Height="30"
              Background="Transparent"
              BorderThickness="0"
              Click="CopyReport_Click"/>
    </Border>

  </DockPanel>
</Window>